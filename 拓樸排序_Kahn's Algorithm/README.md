# 拓樸排序 Kahn's Algorithm

## 基本介紹

拓樸排序 (Topological Sort) 是一種針對有向無環圖 (DAG, Directed Acyclic Graph) 的排序方法，目的是將圖中的所有節點排成一個線性序列，使得對於每一條有向邊 ( u to v )，節點 ( u ) 都排在 ( v ) 之前。Kahn's Algorithm 是一種常見且高效的拓樸排序演算法，主要利用節點的入度 (in-degree) 來進行排序。

Kahn's Algorithm 步驟如下：

1. 計算每個節點的入度。
2. 將所有入度為 0 的節點加入佇列。
3. 重複以下步驟直到佇列為空：
   - 從佇列取出一個節點，加入排序結果。
   - 將該節點的所有相鄰節點入度減 1，若入度變為 0，則加入佇列。
4. 若排序結果節點數不等於原圖節點數，代表圖中有環，無法進行拓樸排序。

## 常見應用場合

- 任務排程 (如：專案管理中的任務依賴)
- 編譯器中的語言解析 (如：語法樹建構、符號依賴)
- 課程安排 (如：先修課程規劃)
- 軟體建構系統 (如：Makefile 任務依賴)
- 資料處理流程 (如：資料管道依賴順序)

## 注意事項

- 拓樸排序僅適用於有向無環圖 (DAG)，若圖中存在環，則無法產生合法的拓樸序列。
- 若有多個入度為 0 的節點，排序結果可能不唯一。
- 在實作時，需特別注意入度的計算與佇列的操作，避免遺漏或重複處理節點。
- 若需偵測圖中是否有環，可在排序結束後檢查排序結果節點數是否等於原圖節點數。

🧠 **演算法步驟回顧：Kahn's Algorithm**

1. 計算每個節點的「入度」（in-degree）。
2. 將入度為 0 的節點加入佇列。
3. 從佇列中取出節點，將其加入結果中，並將它指向的節點的入度減 1。
4. 如果某個節點的入度變為 0，則加入佇列。
5. 重複直到佇列為空。
6. 如果排序結果的節點數不等於原圖節點數，表示圖中有環（不是 DAG），無法拓樸排序。

---

本程式碼示範如何使用 Kahn's Algorithm 進行拓樸排序，並提供簡單的圖結構與排序結果輸出。
